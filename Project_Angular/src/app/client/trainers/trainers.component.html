<app-navbar></app-navbar>

<div class="container">
  <div class="title">Trainers</div>
    <div class="trainers-container">
      <div class="trainer-list">
        <ul>
          <li *ngFor="let trainer of trainers" class="user-trainer">
            <div class="trainer-info">
              <span class="text1"
                ><strong>Trainer:</strong> {{ trainer.firstName }}
                {{ trainer.lastName }}
              </span>
            </div>
            <div class="delete-button">
              <button
                mat-flat-button
                color="accent"
                matTooltip="Send a collaboration request"
                aria-label="Collaboration"
                (click)="collabWithTrainer(trainer.id)"
              >
                <mat-icon>send</mat-icon>
              </button>
            </div>
          </li>
        </ul>
    </div>
  </div>

  <div class="title">Your collaborations</div>
  <div class="user-collaborations">
    <table mat-table [dataSource]="dataSource2">
      <ng-container matColumnDef="Trainer">
        <th mat-header-cell *matHeaderCellDef>Trainer</th>
        <td mat-cell *matCellDef="let collaboration" style="width: 5%">
          {{ collaboration.firstName }} {{ collaboration.lastName }}
        </td>
      </ng-container>
      <ng-container matColumnDef="Status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let collaboration" style="width: 3%">
          <ng-container *ngIf="collaboration.collaborationStatus == 'PENDING'">
            <button
              mat-raised-button
              color="primary"
              (click)="declineRequest(collaboration.collaborationId)"
            >
              Remove the collaboration Request
            </button>
          </ng-container>
          <ng-container *ngIf="collaboration.collaborationStatus == 'ACCEPTED'">
            <span>ACCEPTED</span>
            <br />
            <span>Start Date: {{ collaboration.startTime }}</span>
          </ng-container>
          <ng-container *ngIf="collaboration.collaborationStatus == 'ENDED'">
            <span>Collaboration Ended</span>
            <br />
            <span
              >From: {{ collaboration.startTime }} to
              {{ collaboration.endTime }}</span
            >
          </ng-container>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns2"></tr>
    </table>
    <mat-paginator
      #paginator2
      [pageSizeOptions]="[4]"
      showFirstLastButtons
    ></mat-paginator>
  </div>
</div>


<app-navbar></app-navbar>
<div class="trainingClasses">
    <div class="title-sub">
        <h2>Discover our Training Classes</h2>
    </div>
    
    <div class="selector">
        <mat-form-field>
            <mat-label>Select a Training Class</mat-label>
            <mat-select [(ngModel)]="selectedTrainingClassId" name="trainingClass" (selectionChange)="selectionChangeHandler($event)">
                <mat-option *ngFor="let trainingClass of trainingClassesData" [value]="trainingClass.id">
                    {{ trainingClass.className }}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <div class="container">
        <mat-card *ngIf="selectedTrainingClass" class="trainingClass-card">
            <div class="inner">
                <h2 class="title">{{selectedTrainingClass.className}}</h2>
            <div class="deletebutton">
                <button mat-icon-button class="close-button" (click)="closeCard()">
                    <mat-icon>close</mat-icon>
                </button>
            </div>
            <!-- Your card HTML structure here -->
            <p class="info">Date: {{ selectedTrainingClass.localDate }} at {{selectedTrainingClass.startTime}}, duration {{selectedTrainingClass.duration}} mins</p>
            <p class="info">Intensity: {{selectedTrainingClass.intensity}}</p>
            <p class="info">Trainer: {{selectedTrainingClass.firstName}} {{selectedTrainingClass.lastName}}</p>
            <div class="button-container">
                <button class="button-drop" mat-raised-button color="primary" *ngIf="!isEnrolled" (click)="enrollUserToTrainingClass(selectedTrainingClass.id)">
                      Enroll To Training Class
                </button>
                <button class="button-drop" mat-raised-button color="warn" *ngIf="isEnrolled" (click)="dropOutOfTrainingClass(selectedTrainingClass.id)">
                      Drop out from class
                </button>
            </div>
        </div>
        </mat-card>
      </div>
      <div class="user-classes">
        <mat-expansion-panel  (opened)="panelOpenState = true"
            (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
        <mat-panel-title class="titlepanel">
        Your Training Classes
        </mat-panel-title>
        </mat-expansion-panel-header>
        <div *ngFor="let classData of userTrainingClassesData">
        <div class="inputdata">
        <p>{{ classData.className }} on {{ classData.localDate }} at {{classData.startTime}}</p>
        </div>
        </div>
        </mat-expansion-panel>
    </div>
</div>

<div class="subscription-list">
    <div class="title-sub">
        <h2>Discover our Subscriptions</h2>
    </div>
    <div class="subscriptions">
        <mat-card *ngFor="let subscription of subscriptions" class="subscription-card">
            <div class="inner">
                <h2 class="title">{{subscription.subscriptionName}}</h2>
                    <div class="price">
                        <span>
                        {{ subscription.subscriptionPrice }} RON/ <small>m</small>
                     </span>
                </div>
            <p class="info"> {{ subscription.subscriptionDescription}} </p>
            <mat-card-actions>
            <button *ngIf="!hasActiveSubscription" mat-raised-button matTooltip="Pay using your card" color="primary" (click)="goToCheckoutPage(subscription.id)"><mat-icon>payment</mat-icon> Get your subscription </button>
            </mat-card-actions>
        </div>
        </mat-card>
    </div>
</div>



    